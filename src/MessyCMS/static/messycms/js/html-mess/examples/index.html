<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>mess-example</title>
    <!--<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css/out/water.css">-->
    <link rel="stylesheet" href="https://bafybeidljsjtiajbwy5yydrcmnp5qv7lgsqn24gmkhrneftgh3fp7ea7je.ipfs.dweb.link/water.min.css" integrity="AIXfqVFpmFFCIEQy3AvAvWsutX42KJfmLcTnQtB/Gcjyc2Ezt5mN+VUcKF0sA4VI" crossorigin="anonymous">
    <!-- Other css alternatives: https://css-tricks.com/no-class-css-frameworks/ -->
    <meta name="generator" content="https://github.com/rekcuFniarB/HtmlBoilerplate#readme">
    <style>
    .htmlmess-processing main {
        border 1px dashed red;
    }
    .processing {
        background-color: red;
        color: white;
        visibility: hidden;
    }
    .htmlmess-processing .processing {
        visibility: visible;
    }
  </style>
  </head>

  
  <body>
    <main id="main">
        <div class="processing">PROCESSING</div>
    
        <div class="item1">Item 1</div>
        <div class="item2">Item 2</div>
        
        <section class="links">
            <ul>
                <li><a href="page2.html">Page 2</a></li>
                <li><a href="../html-mess.js">html-mess.js</a></li>
            </ul>
        </section>
        
        <div id="form-wrapper">
            <form action="." data-target="#form-wrapper"
                data-select-children="form" class="qwerty"
                data-on-success="App.applyFunction" method="POST">
                <input type="hidden" name="hidval" value="hiddenval">
                <input type="submit" name="ok" value="submit">
            </form>
        </div>
        
        <noscript data-sanitize-element
            data-forbid-attr="style">
            Sanitized text
            
            <div onclick="alert('lol')" class="sanitized"
                data-some-info="lol"
                style="border: 2px solid red;">
                This was sanitized
                <script>console.log('lol');</script>
                <iframe></iframe>
                <style>
                    body: background-color: green;
                </style>
            </div>
        </noscript>
        
        <blockquote>Some blockquote text</blockquote>
        
        <aside id="aside">
            <h2>Aside</h2>
            
            <div data-include-url="part.html" data-select-children="i"></div>
            
            <div id="insert-before">Insert before aside</div>
            
            <div class="wrapper-ul"><div data-insert>TO BE REPLACED</div></div>
            
            <p><a href="./">Click me</a></p>
        </aside>
    </main>
    
    <script src="../html-mess.js"></script>
    
    <script type="text/javascript">
    if (!window.mess) {
        window.mess = new HtmlMess({
            ajaxModeTarget: 'main',
            ajaxModeSelect: '[id]',
            DEBUG: true,
        });
        
        mess.registerPlugin('handlebars', {
            dependencies: [
                'https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js',
                '../html-mess.handlebars.plugin.js?v=4'
            ]
        });
        
        mess.registerPlugin('sanitizeElement', {
            dependencies: [
                'https://cdn.jsdelivr.net/npm/dompurify@3',
                '../html-mess.sanitize.plugin.js?v=4'
            ]
        });
        
        mess.loadTemplates('mess.template.html?v=6');
        
        window.App = {
            applyFunction(element, template) {
                return console.log('APPLYING:', element, template);
            },
            
            dataGet(template) {
                return {
                    value: 'example value 1',
                    value2: 'example value 2',
                };
            }
        }
    }
    </script>
  </body>
</html>
